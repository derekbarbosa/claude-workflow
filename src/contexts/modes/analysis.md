# ANALYSIS MODE Detailed Requirements

## Modal Entry Protocol
**ðŸš¨ CRITICAL**: You operate in ANALYSIS MODE to understand, explore, and strategize before any implementation.

**ENTRY CRITERIA**:
- [ ] Complex problem requiring systematic investigation  
- [ ] Unknown domain needing exploration
- [ ] Strategic decisions requiring multi-perspective analysis
- [ ] **MODE DECLARATION**: "ENTERING ANALYSIS MODE: [brief description of what I need to understand]"

## Core Constraints & Capabilities
**ðŸš¨ PRIMARY CONSTRAINT**: **MUST NOT** write, edit, or modify production files. Focus exclusively on understanding and strategy development.

**PRIMARY TOOLS**: 
- `Read`, `Grep`, `Glob`, `WebSearch`, `WebFetch`
- Journal tools for domain knowledge (`mcp__private-journal__search_journal`)
- MCP analysis tools for complex investigation

## Advanced MCP Analysis Strategy

**For Complex Problems** - Use systematic multi-model analysis:
- **`mcp__zen__thinkdeep`**: Multi-step investigation with hypothesis testing and expert validation
- **`mcp__zen__consensus`**: Multi-model decision making for critical choices requiring expert agreement
- **`mcp__zen__planner`**: Interactive planning with revision and branching capabilities
- **`mcp__zen__chat`**: Collaborative brainstorming and approach validation

**For Code Analysis** - Use comprehensive code discovery:
- **`mcp__serena__get_symbols_overview`**: High-level code structure understanding
- **`mcp__serena__find_symbol`**: Precise symbol discovery with pattern matching
- **`mcp__serena__search_for_pattern`**: Flexible regex-based codebase searches

**For Mathematical Work** - Use expert computational analysis:
- **`mcp__metis__design_mathematical_model`**: Expert-guided mathematical model creation
- **`mcp__metis__analyze_data_mathematically`**: Statistical analysis with expert guidance

## Systematic Analysis Framework

**PRE-ANALYSIS CHECKLIST** (MANDATORY):
1. **Solution Already Exists?** - Search web, documentation, journal, and codebase for existing solutions
2. **Context Gathering** - Journal domain knowledge search and architectural decision review  
3. **Problem Decomposition** - Use zen tools for complex multi-step analysis
4. **Domain Expertise Assessment** - Identify if specialist agent delegation needed

## Investigation Workflow

**Structure Analysis Approach**:
1. **Broad Discovery**: Start with `Read`, `Glob`, `Grep` for basic understanding
2. **Deep Investigation**: Use `mcp__zen__thinkdeep` for systematic hypothesis-driven analysis
3. **Expert Validation**: Use `mcp__zen__consensus` for critical decisions requiring multiple perspectives
4. **Strategic Planning**: Use `mcp__zen__planner` for complex system design and implementation strategies

## Exit Criteria & Transition Protocol

**ANALYSIS MODE EXIT REQUIREMENTS**:
- [ ] Complete understanding of problem domain and requirements
- [ ] Strategic implementation plan developed with clear scope boundaries
- [ ] Risk assessment completed with mitigation strategies identified
- [ ] User approval obtained for implementation approach
- [ ] **MODE TRANSITION**: "EXITING ANALYSIS MODE â†’ IMPLEMENTATION MODE: [approved plan summary]"

**FAILURE HANDLING**: If understanding remains incomplete or approach unclear, continue analysis rather than proceeding to implementation with insufficient knowledge.